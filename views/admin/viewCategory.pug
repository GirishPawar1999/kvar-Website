extends ./header.pug
block append head 
  link(href="/public/css/viewProduct.css", rel='stylesheet')
block content
    .container-fluid
        a(href="/admin/categories/"+category._id+"/edit") Edit Category
        form(action = "/admin/categories/"+category._id+"/delete?_method=DELETE" enctype="multipart/form-data" method = "POST" id="edit")
            button(type="submit") Delete Category
        br
        h2 
            = "Name: " + category.name
        br

        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
        -var count = 0
        each image of category.images
            -count += 1
        -for(let i=0;i<count;i++){
            -if(i==0){
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            -}
            -else{
                li(data-target="#carouselExampleIndicators" data-slide-to=i)
            -}
        -}    
        </ol>
        <div class="carousel-inner">
            -for(let i=0;i<count;i++){
                -if(i==0){
                    <div class="carousel-item active">
                        img(class="d-block w-100" src="/public/img/"+category.images[i].filename alt="First slide")
                    </div>
                -}
                -else{
                    <div class="carousel-item">
                        img(class="d-block w-100" src="/public/img/"+category.images[i].filename alt="First slide")
                    </div>
                -}
            -}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
        </div>
        br
        p 
            strong
                =  "Description: " 
            = category.description
        br

block append footer
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>